<!-- Extends the layout from /docs/views/layouts/layout.html -->
{% extends "layout.html" %}

<!-- Adds a custom class to the <main> wrapper -->
<!-- nhsuk-main-wrapper--s reduces top and bottom padding of the page -->
{% set mainClasses = 'nhsuk-main-wrapper--s' %}

<!-- Set the page title inside this block -->
{% block pageTitle %}
  Profile Manager
{% endblock %}

<!-- Header goes inside this block -->
{% block header %}
  {{ header({
    "transactionalService": {
        "name": "Profile Manager",
        "href": "/"
      },
      "showNav": "false",
      "showSearch": "false"
    })
  }}
{% endblock %}

<!-- Breadcrumb goes inside this block -->
{% block beforeContent %}
<nav class="nhsuk-breadcrumb" aria-label="Breadcrumb">
  <div class="nhsuk-width-container">
    <ol class="nhsuk-breadcrumb__list">
      <li class="nhsuk-breadcrumb__item"><a class="nhsuk-breadcrumb__link" href="/editor">Home</a></li>
      <li class="nhsuk-breadcrumb__item"><a class="nhsuk-breadcrumb__link" href="/editor/manage-profile">
        {% set displayname = 'alias0' %}
        {% if data["displayname"] == alias0 %}
        Edit Weldricks Pharmacy
        {%else%}
        Edit {{data["displayname"]}}
        {%endif%}</a></li>
      <li class="nhsuk-breadcrumb__item"><a class="nhsuk-breadcrumb__link" href="/editor/opening-times/opening-times-start">Opening times</a></li>
      <li class="nhsuk-breadcrumb__item"><a class="nhsuk-breadcrumb__link" href="/editor/opening-times/bank-holiday/days">Bank holidays</a></li>
    </ol>
    <p class="nhsuk-breadcrumb__back"><a class="nhsuk-breadcrumb__backlink" href="/editor/manage-profile">
      {% set displayname = 'alias0' %}
      {% if data["displayname"] == alias0 %}
      Back to Edit Weldricks Pharmacy
      {%else%}
      Back to Edit {{data["displayname"]}}
      {%endif%}
    </a></p>
  </div>
</nav>
{% endblock %}

{% block content %}
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-two-thirds">
    <form method="post" action="/editor/opening-times/bank-holiday/opening-time">
      <div id="enter-time" class="nhsuk-form-group">
        <fieldset class="nhsuk-fieldset">
          <legend class="nhsuk-fieldset__legend">
            <h1>{% set displayname = 'alias0' %}
              {% if data["displayname"] == alias0 %}
              What time is Weldricks Pharmacy open on 26 December 2019?
              {%else%}
              What time is {{data["displayname"]}} open on 26 December 2019?
              {%endif%}</h1>
          </legend>
               
          <details class="nhsuk-details nhsuk-u-margin-bottom-6">
            <summary class="nhsuk-details__summary">
              <span class="nhsuk-details__summary-text">
                How to enter your opening times
              </span>
            </summary>
            <div class="nhsuk-details__text">
              <ul class="nhsuk-list nhsuk-list--bullet">
                <li>Please enter your opening times in the 24 hour format. For midnight use 00:00 and for midday use 12:00</li>
                <li>Times must not overlap over 2 days</li>
                <li>On each day, opening times must close at 23:59</li>
              </ul>
              <h2>Example</h2>
              <p>If on Wednesday a pharmacy opens at 7pm and closes at 2am on Thursday morning, enter:</p>
              <p>Wednesday: 19:00-23:59<br>Thursday: 00:00-02:00</p>
            </div>
          </details>

          <div id="openingTimes" class="nhsuk-u-margin-bottom-6">
            <div id="timeEntry1" class="nhsuk-u-margin-bottom-3">
              <div class="nhsuk-date-input__item">
                <div class="nhsuk-form-group">
                  <label class="nhsuk-label nhsuk-date-input__label" for="bankHolOpenTime1">Open</label>
                  <input class="nhsuk-input nhsuk-date-input__input nhsuk-input--width-3" name="bankHolOpenTime1" type="text" id="bankHolOpenTime1">
                </div>
              </div>
              <div class="nhsuk-date-input__item">
                <div class="nhsuk-form-group">
                  <label class="nhsuk-label nhsuk-date-input__label" for="bankHolCloseTime1">Closed</label>
                  <input class="nhsuk-input nhsuk-date-input__input nhsuk-input--width-3" name="bankHolCloseTime1" type="text" id="bankHolCloseTime1">
                </div>
              </div>
              <a href="#" class="nhsuk-u-font-size-19" id="removeTime1">Clear time</a>
            </div>
            <div id="timeEntry2" class="nhsuk-u-margin-bottom-3">
              <div class="nhsuk-date-input__item">
                <div class="nhsuk-form-group">
                  <label class="nhsuk-label nhsuk-date-input__label" for="bankHolOpenTime2">Open</label>
                  <input class="nhsuk-input nhsuk-date-input__input nhsuk-input--width-3" name="bankHolOpenTime2" type="text" id="bankHolOpenTime2">
                </div>
              </div>
              <div class="nhsuk-date-input__item">
                <div class="nhsuk-form-group">
                  <label class="nhsuk-label nhsuk-date-input__label" for="bankHolCloseTime2">Closed</label>
                  <input class="nhsuk-input nhsuk-date-input__input nhsuk-input--width-3" type="text" name="bankHolCloseTime2" id="bankHolCloseTime2">
                </div>
              </div>
              <a href="#" class="nhsuk-u-font-size-19" id="removeTime2">Clear time</a>
            </div>
            <div id="timeEntry3" class="nhsuk-u-margin-bottom-3">
              <div class="nhsuk-date-input__item">
                <div class="nhsuk-form-group">
                  <label class="nhsuk-label nhsuk-date-input__label" for="bankHolOpenTime3">Open</label>
                  <input class="nhsuk-input nhsuk-date-input__input nhsuk-input--width-3" type="text" name="bankHolOpenTime3" id="bankHolOpenTime3">
                </div>
              </div>
              <div class="nhsuk-date-input__item">
                <div class="nhsuk-form-group">
                  <label class="nhsuk-label nhsuk-date-input__label" for="bankHolCloseTime3">Closed</label>
                  <input class="nhsuk-input nhsuk-date-input__input nhsuk-input--width-3" type="text" name="bankHolCloseTime3" id="bankHolCloseTime3">
                </div>
              </div>
              <a href="#" class="nhsuk-u-font-size-19" id="removeTime3">Clear time</a>
            </div>
          </div>
        </fieldset>
        <button type="submit" class="nhsuk-button">Continue</button>
      </div>
    </form>
  </div>
</div>

{% endblock %}

<!-- Footer goes inside this block -->

{% block footer %}
  {{ footer({
    "links": [
      {
        "URL": "#",
        "label": "Contact us"
      },
      {
        "URL": "#",
        "label": "Our policies"
      },
      {
        "URL": "/examples/passing-data/clear-data",
        "label": "Clear data"
      }
    ]
  })}}
{% endblock %}


{% block pageScripts %}
<script>
  document.getElementById('removeTime1').addEventListener('click', function (e) {
    e.preventDefault();
    document.getElementById('bankHolOpenTime1').value = '';
    document.getElementById('bankHolCloseTime1').value = '';
  });

  document.getElementById('removeTime2').addEventListener('click', function (e) {
    e.preventDefault();
    document.getElementById('bankHolOpenTime2').value = '';
    document.getElementById('bankHolCloseTime2').value = '';
  });

  document.getElementById('removeTime3').addEventListener('click', function (e) {
    e.preventDefault();
    document.getElementById('bankHolOpenTime3').value = '';
    document.getElementById('bankHolCloseTime3').value = '';
  });
  // Hiding additional time entries by default
  /*
  document.getElementById('timeEntry2').style.display = 'none';
  document.getElementById('timeEntry3').style.display = 'none';

  // Counter to display more time entries
  let counter = 1;
  document.getElementById('anotherTime').addEventListener('click', function (e) {
    e.preventDefault();
    counter++;
    // Display the previously hidden time entries
    if (counter <= 3) {
      document.getElementById(`timeEntry${counter}`).style.display = 'block';
      document.getElementById(`bankHolOpenTime${counter}`).focus();
    }
    if (counter === 3) {
      document.getElementById('anotherTime').style.display = 'none';
    }
  });

  // 24 hour checkbox
  document.getElementById("24hours").addEventListener('click', () => {
    if (document.getElementById('24hours').checked) {
      const openingTimes = document.querySelector('#openingTimes').children;
      const openingTimesArray = Array.from(openingTimes);
      for (var i = 0; i < openingTimesArray.length; i++) {
        openingTimesArray[i].querySelectorAll('input').forEach( (input) => {
          input.disabled = true;
        })
      }
    } else {
      document.getElementById('openingTimes').style.display = "block";
    }
  });
  */

</script>
{% endblock %}
